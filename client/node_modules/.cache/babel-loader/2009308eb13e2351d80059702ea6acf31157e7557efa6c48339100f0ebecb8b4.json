{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// @ is an alias to /src\nimport LoginImg from '../components/LoginImg.vue';\nimport { makeRequest } from '../axios.js';\nimport { mapActions } from 'vuex';\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      showAlert: false,\n      viewpwd: false,\n      email: '',\n      password: '',\n      remember: false,\n      passwordError: '',\n      emailError: '',\n      emailCorrect: false,\n      passwordCorrect: false\n    };\n  },\n  methods: {\n    ...mapActions(['setUId', 'setAuth']),\n    /* eslint-disable */\n    isEmailValid(value) {\n      let Regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      return Regex.test(value);\n    },\n    isPasswordValid(value) {\n      let minLength = 8;\n      let hasUpperCase = /[A-Z]/.test(value);\n      const hasLowerCase = /[a-z]/.test(value);\n      const hasNumber = /\\d/.test(value);\n      const hasSpecialChar = /[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/.test(value);\n      return value.length >= minLength && hasUpperCase && hasLowerCase && hasNumber && hasSpecialChar;\n    },\n    viewPassword() {\n      if (pwd.type === 'password') {\n        pwd.type = 'text';\n      } else {\n        pwd.type = 'password';\n      }\n      this.viewpwd = !this.viewpwd;\n    },\n    login() {\n      //check if password and email are valid\n      if (this.isEmailValid(this.email)) {\n        if (this.isPasswordValid(this.password)) {\n          //check complete, validation at server level\n          const values = [{\n            email: this.email,\n            password: this.password\n          }];\n          makeRequest.post(\"/auth/login\", values[0]).then(res => {\n            if (!res.data.Error) {\n              this.$toast.success(\"logged in successfully\");\n              //add user data to the store \n              //console.log(res.data)\n              let auth_stat = true;\n              //this.setUId(res.data)\n              this.$store.dispatch('setUId', res.data);\n              this.$store.dispatch('setAuth', auth_stat);\n              //this.setAuth(auth_stat)\n              this.$router.push('/myrecords');\n            } else {\n              this.$toast.error(res.data.Error);\n            }\n          }).catch(err => {\n            this.$toast.error('network error try again');\n            console.log(err);\n          });\n          // console.log(this.email,this.password,this.remember)\n          // this.$toast.success('inputs ok')\n          //this.$router.push('/admin/dashboard');\n        } else {\n          this.$toast.error('Invalid password');\n        }\n      } else {\n        this.$toast.error('Invalid email');\n      }\n    },\n    deleteError() {\n      this.emailError = '';\n      this.passwordError = '';\n    }\n  },\n  components: {\n    LoginImg\n  },\n  watch: {\n    email(value) {\n      if (this.isEmailValid(value)) {\n        this.emailCorrect = true;\n      } else {\n        this.emailCorrect = false;\n      }\n    },\n    password(value) {\n      if (this.isPasswordValid(value)) {\n        this.passwordCorrect = true;\n      } else {\n        this.passwordCorrect = false;\n      }\n    }\n  },\n  computed() {\n    console.log(this.email);\n  },\n  mounted() {}\n};","map":{"version":3,"names":["LoginImg","makeRequest","mapActions","name","data","showAlert","viewpwd","email","password","remember","passwordError","emailError","emailCorrect","passwordCorrect","methods","isEmailValid","value","Regex","test","isPasswordValid","minLength","hasUpperCase","hasLowerCase","hasNumber","hasSpecialChar","length","viewPassword","pwd","type","login","values","post","then","res","Error","$toast","success","auth_stat","$store","dispatch","$router","push","error","catch","err","console","log","deleteError","components","watch","computed","mounted"],"sources":["/Users/hardpro/Desktop/Vue JS/aics-attend/client/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"container py-5 px-5\">\n    \n\n    <div class=\"container-fluid d-flex align-items-center rounded shadow-lg mt-10 myboxcontainer\">\n      <div class=\"box myboxes\">\n          <LoginImg :src=\"require('../assets/62.png')\"/>\n      </div>\n      <div class=\"box myboxes\">\n        <!---alert-->\n        <div>\n            <div class=\"alert alert-danger\" id=\"alert\" role=\"alert\"  v-show=\"passwordError || emailError\" @transitionend=\"deleteError\">\n              {{ passwordError }}  \n              {{ emailError }}\n              <button type=\"button\" class=\"btn-close\" @click=\"deleteError\"></button>\n            </div>\n        </div>\n\n      <!--End of alert-->\n\n        <h1 class=\"mt-0\">Welcome Back...</h1>\n        <form @submit.prevent=\"login\">\n          <div class=\"mb-3\">\n            <label for=\"email\">Email</label>\n            <input type=\"email\" id=\"email\" class=\"form-control\" placeholder=\"please enter your email..\" v-model=\"email\" required/>\n          </div>\n          <div class=\"error\" v-if=\"emailCorrect\"><p class=\"text-success\">Valid Email</p></div>\n  \n\n\n          <div>\n            <label for=\"pwd\">Password</label>\n          </div>\n          <div class=\"input-group mb-3\">\n            <input type=\"password\" id=\"pwd\" class=\"form-control\" placeholder=\"please enter your password\" v-model=\"password\" required/>\n            <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" @click=\"viewPassword\"><i class=\"bi bi-eye-fill\" v-if=\"viewpwd\"></i><i class=\"bi bi-eye-slash\" v-if=\"!viewpwd\"></i></button>\n          </div>\n          <div class=\"error\" v-if=\"passwordCorrect\"><p class=\"text-success\">Valid Password</p></div>\n          \n\n          <div class=\"form-check mb-3\">\n            <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"flexCheckDefault\" v-model=\"remember\">\n            <label class=\"la form-check-label\" for=\"flexCheckDefault\">\n              Remember Me\n            </label><br>\n            \n          </div>\n          \n            <p>Don't yet have an account<router-link to=\"/register\">Create one</router-link></p>\n\n          <div class=\"input-group\">\n            <button type=\"submit\" class=\"btn btn-primary btn-md\">Login</button>\n\n          </div>\n            \n\n          \n          \n  \n            \n\n          \n          \n        </form>\n\n\n\n\n      \n      </div>\n    </div>\n\n\n    \n\n  </div>\n       \n      \n\n\n     \n    \n    \n</template>\n\n<script>\n// @ is an alias to /src\nimport LoginImg from '../components/LoginImg.vue'\nimport {makeRequest} from '../axios.js'\nimport { mapActions } from 'vuex'\n\n\nexport default {\n  name: 'HomeView',\n\n  data(){\n    return{\n      showAlert:false,\n      viewpwd:false,\n      email:'',\n      password:'',\n      remember:false,\n      passwordError:'',\n      emailError:'',\n      emailCorrect:false,\n      passwordCorrect:false\n\n\n\n    }\n  },\n\n  methods:{\n    ...mapActions(['setUId','setAuth']),\n    /* eslint-disable */ \n    isEmailValid(value){\n      let  Regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      return Regex.test(value)\n\n\n    },\n    isPasswordValid(value){\n      let minLength = 8;\n      let hasUpperCase = /[A-Z]/.test(value);\n      const hasLowerCase = /[a-z]/.test(value);\n      const hasNumber = /\\d/.test(value);\n      const hasSpecialChar = /[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/.test(value);\n      return value.length >= minLength && hasUpperCase && hasLowerCase && hasNumber && hasSpecialChar;\n          \n\n\n    },\n    viewPassword(){\n      if(pwd.type==='password'){\n        pwd.type='text'\n      }\n      else{\n        pwd.type='password'\n      }\n      this.viewpwd=!this.viewpwd\n\n    },\n\n    login(){\n      //check if password and email are valid\n      if(this.isEmailValid(this.email)){\n        if(this.isPasswordValid(this.password)){\n          //check complete, validation at server level\n          const values=[{\n            email:this.email,\n            password:this.password\n          }]\n          makeRequest.post(\"/auth/login\",values[0])\n          .then(res=>{\n            if(!res.data.Error){\n              this.$toast.success(\"logged in successfully\")\n              //add user data to the store \n              //console.log(res.data)\n              let auth_stat = true\n              //this.setUId(res.data)\n              this.$store.dispatch('setUId', res.data);\n              this.$store.dispatch('setAuth', auth_stat);\n              //this.setAuth(auth_stat)\n              this.$router.push('/myrecords');\n              \n            \n            }else{\n              this.$toast.error(res.data.Error)\n            }\n          })\n          .catch(err=>{\n            this.$toast.error('network error try again')\n            console.log(err)\n          })\n          // console.log(this.email,this.password,this.remember)\n          // this.$toast.success('inputs ok')\n          //this.$router.push('/admin/dashboard');\n\n        }\n        else{\n          \n          this.$toast.error('Invalid password')\n          \n          \n          \n\n        }\n\n      }\n      else{\n      this.$toast.error('Invalid email')\n\n        \n      }\n\n    },\n    deleteError(){\n        this.emailError=''\n        this.passwordError=''\n        \n\n    }\n\n\n    \n  },\n  components: {\n    LoginImg\n    \n  \n  },\n  watch:{\n    email(value){\n      if(this.isEmailValid(value)){\n        this.emailCorrect=true\n      }\n      else{\n        this.emailCorrect=false\n      }\n    },\n\n    password(value){\n      if(this.isPasswordValid(value)){\n        this.passwordCorrect=true\n      }\n      else{\n        this.passwordCorrect=false\n      }\n\n    }\n\n  },\n  computed(){\n    \n    console.log(this.email)\n\n  },\n  mounted(){\n\n\n  }\n}\n</script>\n<style>\n@import url(\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css\");\n\nbody{\n  height: 100vh;\n  background-image: url('../assets/back.svg');\n  background-size: cover;\n}\n\n\n.container-fluid{\n\nborder-radius: 15px;\nbackground: white;\n\n\n}\n.myboxcontainer{\n  margin-top: 5%;\n}\n.myboxes{\n  padding: 15px;\n  width: 50%;\n \n\n}\nlabel,button,p{\n    float: left;\n  }\n  form{\n    display: flex;\n    flex-direction: column;\n  }\n.btn-md{\n  width: 100px;\n}\n\n\n@media (max-width: 768px) {\n  .container-fluid {\n    flex-direction: column;\n    \n  }\n  .myboxes{\n    padding: 25px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 100%;\n   \n  }\n  body{\n    height: 100%;\n  }\n  \n}\n\n\n\n\n\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}