{"ast":null,"code":"import { createStore } from 'vuex';\nimport { makeRequest } from './axios.js';\nconst store = createStore({\n  state: {\n    posts: [],\n    err: ''\n  },\n  mutations: {\n    setPosts(state, data) {\n      state.posts = data;\n    },\n    setError(state, data) {\n      state.err = data;\n      console.log(state.err);\n    }\n  },\n  actions: {\n    fetchPosts({\n      commit\n    }) {\n      makeRequest.get('/posts/').then(res => {\n        if (res.data.Error) {\n          console.log(res.data.Error);\n          commit('setError', res.data.Error);\n          //this.$toast.error(\"posts could not be loaded\");\n        } else {\n          console.log(res.data);\n          commit('setPosts', res.data);\n          //this.posts=res.data;\n          commit('setError', '');\n        }\n      }).catch(err => {\n        //this.$toast.error(\"could not load posts\");\n        commit('setError', 'could not load posts');\n        console.log(err);\n      });\n    }\n  }\n});\nexport default store;","map":{"version":3,"names":["createStore","makeRequest","store","state","posts","err","mutations","setPosts","data","setError","console","log","actions","fetchPosts","commit","get","then","res","Error","catch"],"sources":["/Users/hardpro/Desktop/Vue JS/aics-attend/client/src/store.js"],"sourcesContent":["import { createStore } from 'vuex';\nimport { makeRequest }  from './axios.js';\n\n\nconst store = createStore({\n    state:{\n        posts:[],\n        err:''\n\n    },\n    mutations:{\n        setPosts(state,data){\n            state.posts = data\n        },\n        setError(state,data){\n            state.err = data\n            console.log(state.err)\n        }\n    },\n    actions:{\n        fetchPosts({commit}){\n            \n            makeRequest.get('/posts/')\n            .then(res=>{\n                if(res.data.Error){\n                    console.log(res.data.Error)\n                    commit('setError',res.data.Error)\n                    //this.$toast.error(\"posts could not be loaded\");\n                    \n                }else{\n                    console.log(res.data)\n                    commit('setPosts',res.data)\n                    //this.posts=res.data;\n                    commit('setError','')\n\n        \n                }\n\n            })\n            .catch(err=>{\n                //this.$toast.error(\"could not load posts\");\n                commit('setError','could not load posts')\n                console.log(err)\n\n\n            })\n\n\n\n        }\n    }\n\n})\n\nexport default store"],"mappings":"AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,SAASC,WAAW,QAAS,YAAY;AAGzC,MAAMC,KAAK,GAAGF,WAAW,CAAC;EACtBG,KAAK,EAAC;IACFC,KAAK,EAAC,EAAE;IACRC,GAAG,EAAC;EAER,CAAC;EACDC,SAAS,EAAC;IACNC,QAAQA,CAACJ,KAAK,EAACK,IAAI,EAAC;MAChBL,KAAK,CAACC,KAAK,GAAGI,IAAI;IACtB,CAAC;IACDC,QAAQA,CAACN,KAAK,EAACK,IAAI,EAAC;MAChBL,KAAK,CAACE,GAAG,GAAGG,IAAI;MAChBE,OAAO,CAACC,GAAG,CAACR,KAAK,CAACE,GAAG,CAAC;IAC1B;EACJ,CAAC;EACDO,OAAO,EAAC;IACJC,UAAUA,CAAC;MAACC;IAAM,CAAC,EAAC;MAEhBb,WAAW,CAACc,GAAG,CAAC,SAAS,CAAC,CACzBC,IAAI,CAACC,GAAG,IAAE;QACP,IAAGA,GAAG,CAACT,IAAI,CAACU,KAAK,EAAC;UACdR,OAAO,CAACC,GAAG,CAACM,GAAG,CAACT,IAAI,CAACU,KAAK,CAAC;UAC3BJ,MAAM,CAAC,UAAU,EAACG,GAAG,CAACT,IAAI,CAACU,KAAK,CAAC;UACjC;QAEJ,CAAC,MAAI;UACDR,OAAO,CAACC,GAAG,CAACM,GAAG,CAACT,IAAI,CAAC;UACrBM,MAAM,CAAC,UAAU,EAACG,GAAG,CAACT,IAAI,CAAC;UAC3B;UACAM,MAAM,CAAC,UAAU,EAAC,EAAE,CAAC;QAGzB;MAEJ,CAAC,CAAC,CACDK,KAAK,CAACd,GAAG,IAAE;QACR;QACAS,MAAM,CAAC,UAAU,EAAC,sBAAsB,CAAC;QACzCJ,OAAO,CAACC,GAAG,CAACN,GAAG,CAAC;MAGpB,CAAC,CAAC;IAIN;EACJ;AAEJ,CAAC,CAAC;AAEF,eAAeH,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}