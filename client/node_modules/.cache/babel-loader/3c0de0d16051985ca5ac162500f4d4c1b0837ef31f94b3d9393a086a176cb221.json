{"ast":null,"code":"import moment from 'moment';\nimport { CountUp } from 'countup.js';\nimport { makeRequest } from '@/axios';\nexport default {\n  name: 'UserList',\n  data() {\n    return {\n      count: 0,\n      numuser: 0,\n      numactive: 0,\n      users: [],\n      user_search: '',\n      viewed_user: [],\n      user_delete: null,\n      currentPage: 1,\n      itemsPerPage: 5\n    };\n  },\n  methods: {\n    fetch_users() {\n      makeRequest.get('/users/').then(result => {\n        if (!result.data.Error) {\n          this.users = result.data;\n          console.log(result.data);\n        } else {\n          this.$toast.error(result.data.Error);\n        }\n      }).catch(error => {\n        console.log(error);\n        this.$toast.error('Something went wrong');\n      });\n    },\n    getFormattedTime(time_passed) {\n      return moment(time_passed).fromNow();\n    },\n    viewDetails(info) {\n      const user_info = {\n        ...info\n      };\n      this.viewed_user = user_info;\n    },\n    update_user() {\n      console.log(this.viewed_user);\n      //makeRequest to update user info and get new user list\n      makeRequest.put('/users/edit/' + this.viewed_user.id, this.viewed_user).then(res => {\n        if (!res.data.Error) {\n          //console.log(res.data)\n          this.users = [];\n          this.users = res.data;\n          this.num_active_animate();\n          this.num_user_animate();\n          this.$toast.success(\"user data updated successfully\");\n        }\n      }).catch(error => {\n        console.log(error);\n        this.$toast.error('could not update user');\n      });\n    },\n    set_user_delete(info_id) {\n      this.user_delete = info_id;\n      //console.log(info_id)\n      //console.log(this.user_delete.id)\n    },\n\n    deleteAccount() {\n      if (this.user_delete) {\n        if (this.getUserId === this.user_delete) {\n          this.$toast.error(\"Cannot delete current account\");\n        } else {\n          //console.log(\"wants to delete\")\n          makeRequest.delete('/users/delete/' + this.user_delete).then(res => {\n            if (!res.data.Error) {\n              //console.log(res.data)\n              this.users = [];\n              this.users = res.data;\n              this.num_active_animate();\n              this.num_user_animate();\n              this.$toast.success(\"User deleted successfully\");\n            } else {\n              this.$toast.error(res.data.Error);\n            }\n          }).catch(error => {\n            console.log(error);\n            this.$toast.error(\"Could not delete user\");\n          });\n        }\n      } else {\n        console.log(\"user id not set\");\n      }\n    },\n    clear_modal() {\n      this.user_delete = null;\n      this.viewed_user = [];\n    },\n    async num_user_animate() {\n      try {\n        const num = await makeRequest.get('/users/count');\n        const options = {\n          duration: 3,\n          separator: ','\n        };\n        const numUserCountUp = new CountUp('numuser', num.data, this.numuser, options);\n        numUserCountUp.start();\n        this.numuser = num.data;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async num_active_animate() {\n      try {\n        const num = await makeRequest.get('/users/countactive');\n        const options = {\n          duration: 3,\n          separator: ','\n        };\n        const numUserCountUp = new CountUp('numactive', num.data, this.numactive, options);\n        numUserCountUp.start();\n        this.numactive = num.data;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    prevPage() {\n      if (this.currentPage > 1) {\n        this.currentPage--;\n      }\n    },\n    nextPage() {\n      if (this.currentPage < this.totalPages) {\n        this.currentPage++;\n      }\n    }\n  },\n  computed: {\n    filteredUsers() {\n      //if the entry is empty\n      if (this.user_search === '') {\n        return this.users;\n      }\n      const searchTermLower = this.user_search.toLowerCase();\n      return this.users.filter(user => {\n        const usernameMatch = user.username.toLowerCase().includes(searchTermLower);\n        const emailMatch = user.email.toLowerCase().includes(searchTermLower);\n        return usernameMatch || emailMatch;\n      });\n    },\n    totalPages() {\n      return Math.ceil(this.filteredUsers.length / this.itemsPerPage);\n    },\n    paginatedUsers() {\n      const startIndex = (this.currentPage - 1) * this.itemsPerPage;\n      const endIndex = startIndex + this.itemsPerPage;\n      return this.filteredUsers.slice(startIndex, endIndex);\n    },\n    getUserId() {\n      return this.$store.state.user_id;\n    }\n  },\n  mounted() {\n    this.num_user_animate();\n    this.num_active_animate();\n\n    // const numUActiveCountUp = new CountUp('numactive',this.numactive,options); \n    // numUActiveCountUp.start(); \n    //fetch users\n    this.fetch_users();\n  },\n  watch: {}\n};","map":{"version":3,"names":["moment","CountUp","makeRequest","name","data","count","numuser","numactive","users","user_search","viewed_user","user_delete","currentPage","itemsPerPage","methods","fetch_users","get","then","result","Error","console","log","$toast","error","catch","getFormattedTime","time_passed","fromNow","viewDetails","info","user_info","update_user","put","id","res","num_active_animate","num_user_animate","success","set_user_delete","info_id","deleteAccount","getUserId","delete","clear_modal","num","options","duration","separator","numUserCountUp","start","prevPage","nextPage","totalPages","computed","filteredUsers","searchTermLower","toLowerCase","filter","user","usernameMatch","username","includes","emailMatch","email","Math","ceil","length","paginatedUsers","startIndex","endIndex","slice","$store","state","user_id","mounted","watch"],"sources":["/Users/hardpro/Desktop/Vue JS/aics-attend/client/src/views/Admin/UserList.vue"],"sourcesContent":["<template>\n    <!-- Userlist -->\n    <div class=\"container-fluid pt-4 px-4\">\n                <div class=\"row g-4\">\n                    <div class=\"col-sm-12 col-xl-8\">\n                        <div class=\"bg-light rounded d-flex align-items-center justify-content-between p-4\">\n                            <i class=\"fa fa-users fa-3x text-primary\"></i>\n                            <div class=\"ms-3\">\n                                <h4 class=\"mb-2\">Users</h4>\n                                <h3 class=\"mb-0 text-primary\" id=\"numuser\">{{ numuser }}</h3>\n                            </div>\n                        </div>\n                        \n                    </div>\n                    <div class=\"col-sm-12 col-xl-4\">\n                        <div class=\"bg-light rounded d-flex align-items-center justify-content-between p-4\">\n                            <i class=\"fa fa-check fa-3x text-primary\"></i>\n                            <div class=\"ms-3\">\n                                <h4 class=\"mb-2\">Active</h4>\n                                <h3 class=\"mb-0 text-primary\" id=\"numactive\">{{ numactive }}</h3>\n                            </div>\n                        </div>\n                        \n                    </div>\n                </div>\n        </div>\n    <div class=\"container-fluid pt-4 px-4\">\n                <div class=\"bg-light text-center rounded p-4 custom-row\">\n                    <div class=\"d-flex align-items-center justify-content-between mb-4 custom\">\n                        <h5 class=\"mb-0\">User List</h5>\n\n                        \n                        <input type=\"email\" class=\"form-control search\" id=\"search\" placeholder=\"Search for a user\" v-model=\"user_search\">\n                                \n                        <div>\n                            <!-- <button class=\"btn btn-danger\">Delete All</button> -->\n                            <router-link to=\"/admin/adduser\" class=\"btn btn-primary mx-1\">Add User</router-link>\n\n                        </div>\n                        \n                    </div>\n                    <div class=\"table-responsive\" v-if=\"filteredUsers.length>0\">\n                        <table class=\"table text-center align-middle table-bordered table-hover mb-0\">\n                            <thead>\n                                <tr class=\"text-dark\">\n                                    <th scope=\"col\">Profile</th>\n                                    <th scope=\"col\">Username</th>\n                                    <th scope=\"col\">Email</th>\n                                    <th scope=\"col\">Account status</th>\n                                    <th scope=\"col\">Account Type</th>\n                                    <th scope=\"col\">Created</th>\n                                    <th scope=\"col\">Actions</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr v-for=\"user in filteredUsers\" :key=\"user.id\">\n                                    <td><img class=\"rounded-circle mx-auto\" src=\"../../assets/profile3.jpg\" alt=\"\" style=\"width: 40px; height: 40px;\"></td>\n                                    <td>{{ user.username }}</td>\n                                    <td>{{ user.email }}</td>\n                                    <td>\n                                        <div v-if=\"user.roleId==1\">Admin</div>\n                                        <div v-else-if=\"user.roleId==2\">Registrar</div>\n                                        <div v-else-if=\"user.roleId==3\">User</div>\n                                    </td>\n                                    <td>\n                                        <span v-if=\"user.accountstatus\" class=\"text-success\">Active</span>\n                                        <span v-else class=\"text-danger\">Inactive</span>\n                                    </td>\n                                    <td>{{ getFormattedTime(user.createdAt) }}</td>\n                                    <td><button class=\"btn btn-sm btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#viewuser\" @click=\"viewDetails(user)\">Detail</button>\n                                        <button class=\"btn btn-sm btn-danger mx-1 my-sm-1\" data-bs-toggle=\"modal\" data-bs-target=\"#deleteUser\" @click=\"set_user_delete(user.id)\">Delete</button></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                                <nav aria-label=\"...\">\n                                    <ul class=\"pagination\">\n                                        <li class=\"page-item disabled\">\n                                        <a class=\"page-link\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\" @click=\"prevPage\" :disabled=\"currentPage === 1\" >Previous</a>\n                                        </li>\n                                        <li class=\"page-item\">\n                                        <a class=\"page-link\" href=\"#\" @click=\"nextPage\" :disabled=\"currentPage === totalPages\">Next</a>\n                                        </li>\n                                    </ul>\n                                </nav>\n                                \n                           \n                            \n                        \n                    </div>\n                    <div v-else class=\"div-blank\">\n                        <div class=\"not-found-img mt-3\" style=\"width: 20%; height: 150px;\" >\n                        </div>\n                        <h6 class=\"mt-3\">No Users...</h6>\n                    </div>\n                </div>\n            </div>\n            <!-- content end-->\n\n            <!-----modal for view user details-->\n            <div class=\"modal fade\" id=\"viewuser\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div class=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\n                    <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\" id=\"exampleModalLabel\">User details</h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"clear_modal\"></button>\n                    </div>\n                    <form @submit.prevent=\"update_user\">\n                            <div class=\"modal-body\">\n                                <div class=\"mb-3\">\n                                    <label for=\"username_id\" class=\"col-form-label\">Username</label>\n                                    <input type=\"text\" class=\"form-control\" id=\"username_id\" v-model=\"viewed_user.username\" placeholder=\"\" disabled>\n                                </div>\n                                <div class=\"mb-3\">\n                                    <label for=\"name\" class=\"col-form-label\">Name</label>\n                                    <input type=\"text\" class=\"form-control\" id=\"recipient-name\" v-model=\"viewed_user.name\" placeholder=\"\" disabled>\n                                </div>\n                                <div class=\"mb-3\">\n                                    <label for=\"emailid\" class=\"col-form-label\">Email</label>\n                                    <input type=\"email\" class=\"form-control\" id=\"emailid\" v-model=\"viewed_user.email\"  placeholder=\"\" disabled>\n                                </div>\n                                <div class=\"form-switch mb-3\">\n                                    <label for=\"status\">Account Status</label><br>\n                                    <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheckDefault\" v-model=\"viewed_user.accountstatus\">\n                                    <label class=\"form-check-label\" for=\"flexSwitchCheckDefault\">{{ viewed_user.accountstatus? 'Active':'Inactive' }}</label>\n                                </div>\n                                <div class=\"mb-3 form-control\" >\n                                    <label for=\"website\" class=\"col-form-label\">Account Type</label>\n                                    <select name=\"check_type\" id=\"check_type\" v-model=\"viewed_user.roleId\" style=\"width: 100%; border: 1px solid #ccc; border-radius: 5px;\">\n                                        <option value=\"1\">Admin</option>\n                                        <option value=\"2\">Registrar</option>\n                                        <option value=\"3\">User</option>\n                                    </select>\n                                </div>\n                                <div class=\"mb-3\">\n                                    <label for=\"city\" class=\"col-form-label\">Matricule</label>\n                                    <input type=\"text\" class=\"form-control\" id=\"city\" v-model=\"viewed_user.matricule\" placeholder=\"enter user matricule\">\n                                </div> \n                                <div class=\"mb-3 image-div\" v-if=\"viewed_user.profilepicture\">\n                                    <img :src=\"viewed_user.profilepicture\" alt=\"file preview\" class=\"modal-img\">\n                                </div>\n\n\n                                \n                            </div>\n                            <div class=\"modal-footer\">\n                                <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" @click=\"clear_modal\">Close</button>\n                                <button type=\"submit\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\">save</button>\n                            </div>\n                    </form>\n                    </div>\n             </div>\n\n        \n            </div>\n\n            <!---End of modal-->\n\n            <!----delete user modal-->\n            <div class=\"modal fade\" id=\"deleteUser\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div class=\"modal-dialog\">\n                    <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\" id=\"exampleModalLabel\"><i class=\"fa fa-exclamation-triangle text-danger fa-2x\" aria-hidden=\"true\" style=\"margin-right: 10px;\"></i>Delete Account</h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"clear_modal\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        Do you wan't to delete this account?\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" @click=\"clear_modal\">Cancel</button>\n                        <button type=\"button\" class=\"btn btn-danger\" data-bs-dismiss=\"modal\" @click=\"deleteAccount\">Yes,Delete</button>\n                    </div>\n                    </div>\n                </div>\n            </div>\n\n  \n</template>\n\n<script>\nimport moment from 'moment';\nimport { CountUp } from 'countup.js'\nimport { makeRequest } from '@/axios';\nexport default {\n    name:'UserList',\n    data(){\n        return{\n            count:0,\n            numuser:0,\n            numactive:0,\n            users:[],\n            user_search:'',\n            viewed_user:[],\n            user_delete:null,\n            currentPage:1,\n            itemsPerPage:5\n        }\n    },\n    methods:{\n        fetch_users(){\n            makeRequest.get('/users/')\n            .then(result=>{\n                if(!result.data.Error){\n                    this.users = result.data;\n                    console.log(result.data)\n\n                }else{\n                    this.$toast.error(result.data.Error)\n                }\n\n            })\n            .catch(error=>{\n                console.log(error);\n                this.$toast.error('Something went wrong')\n            })\n        },\n        getFormattedTime(time_passed){\n            return moment(time_passed).fromNow();\n        },\n        viewDetails(info){\n            const user_info ={ ...info}\n            this.viewed_user = user_info\n        },\n        update_user(){\n            console.log(this.viewed_user);\n            //makeRequest to update user info and get new user list\n            makeRequest.put('/users/edit/'+this.viewed_user.id, this.viewed_user)\n            .then(res=>{\n                if(!res.data.Error){\n                    //console.log(res.data)\n                    this.users=[];\n                    this.users = res.data\n                    this.num_active_animate()\n                    this.num_user_animate()\n                    this.$toast.success(\"user data updated successfully\");\n                }\n\n            })\n            .catch(error=>{\n                console.log(error)\n                this.$toast.error('could not update user')\n            })\n        },\n        set_user_delete(info_id){\n            this.user_delete=info_id\n            //console.log(info_id)\n            //console.log(this.user_delete.id)\n        },\n        deleteAccount(){\n            if(this.user_delete){\n                if(this.getUserId === this.user_delete){\n                    this.$toast.error(\"Cannot delete current account\")\n                }else{\n                    //console.log(\"wants to delete\")\n                        makeRequest.delete('/users/delete/'+this.user_delete)\n                        .then(res=>{\n                            if(!res.data.Error){\n                                //console.log(res.data)\n                                this.users=[]\n                                this.users= res.data\n                                this.num_active_animate()\n                                this.num_user_animate()\n                                this.$toast.success(\"User deleted successfully\")\n\n                            }else{\n                                this.$toast.error(res.data.Error)\n                            }\n\n                        })\n                        .catch(error=>{\n                            console.log(error);\n                            this.$toast.error(\"Could not delete user\")\n                        })\n             }\n            }else{\n                console.log(\"user id not set\")\n            }\n            },\n            clear_modal(){\n                this.user_delete=null;\n                this.viewed_user=[]\n            },\n            async num_user_animate(){\n                try{\n                    const num= await makeRequest.get('/users/count');\n                    const options = {\n                    duration: 3, \n                    separator: ',',\n                    };\n                    const numUserCountUp = new CountUp('numuser',num.data, this.numuser,options); \n                    numUserCountUp.start(); \n                    this.numuser=num.data\n                }\n                catch(error){\n                        console.log(error)\n\n                }\n\n\n            },\n            async num_active_animate(){\n                try{\n                    const num= await makeRequest.get('/users/countactive');\n                    const options = {\n                    duration: 3, \n                    separator: ',',\n                    };\n                    const numUserCountUp = new CountUp('numactive',num.data, this.numactive,options); \n                    numUserCountUp.start();\n                    this.numactive=num.data \n                }\n                catch(error){\n                        console.log(error)\n\n                }\n\n\n            },\n        prevPage(){\n            if(this.currentPage >1){\n                this.currentPage --;\n            }\n        },\n        nextPage(){\n            if(this.currentPage < this.totalPages){\n                this.currentPage++;\n            }\n\n        }\n        \n\n    },\n    computed:{\n        filteredUsers() {\n            //if the entry is empty\n            if (this.user_search === '') {\n                return this.users;\n            }\n            const searchTermLower = this.user_search.toLowerCase();\n            return this.users.filter(user => {\n                const usernameMatch = user.username.toLowerCase().includes(searchTermLower);\n                const emailMatch = user.email.toLowerCase().includes(searchTermLower);\n                return usernameMatch || emailMatch;\n            });\n        },\n        totalPages(){\n            return Math.ceil(this.filteredUsers.length/this.itemsPerPage)\n        },\n        paginatedUsers(){\n            const startIndex = (this.currentPage-1)*this.itemsPerPage;\n            const endIndex = startIndex+this.itemsPerPage\n            return this.filteredUsers.slice(startIndex,endIndex)\n\n        },\n        getUserId(){\n            return this.$store.state.user_id;\n        }\n\n    },\n    mounted(){\n\n        this.num_user_animate();\n        this.num_active_animate();\n        \n        \n\n        // const numUActiveCountUp = new CountUp('numactive',this.numactive,options); \n        // numUActiveCountUp.start(); \n         //fetch users\n         this.fetch_users()\n        \n\n\n\n    },\n    watch:{\n        \n    }\n\n    \n\n\n}\n</script>\n\n<style>\n#search{\n    width: 45%;\n    border-radius: 17px;\n}\n\n@media screen and (max-width: 610px) {\n    .custom{\n        display: flex;\n        flex-direction: column;\n    }\n    .column #search{\n        margin-top: 2px;\n        margin-bottom: 2px;\n        width:80%;\n    }\n    .column div button{\n        margin-top: 3px;\n\n    }\n\n    \n}\n.div-blank{\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    align-content: center;\n    align-items: center;\n    flex-direction: column;\n}\n.not-found-img{\n    \n    height: 200px;\n    align-content: center;\n    justify-content: center;\n    background-image: url('../../assets/blank.svg');\n    background-size: cover;\n    background-position: center;\n    margin-right: 10px;\n\n}\n.modal-body{\n    max-height: 450px;\n    overflow: scroll;\n}\n.modal-body label{\n    float: left;\n\n    \n}\n.form-switch {\n    padding-left: 0;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}