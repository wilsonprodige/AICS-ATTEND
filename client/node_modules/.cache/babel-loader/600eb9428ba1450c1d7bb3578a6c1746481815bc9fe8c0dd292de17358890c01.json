{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.push.js\");\nvar _excluded = [\"modules\"];\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nvar DocUtils = require(\"./doc-utils.js\");\nDocUtils.traits = require(\"./traits.js\");\nDocUtils.moduleWrapper = require(\"./module-wrapper.js\");\nvar createScope = require(\"./scope-manager.js\");\nvar _require = require(\"./errors.js\"),\n  throwMultiError = _require.throwMultiError,\n  throwResolveBeforeCompile = _require.throwResolveBeforeCompile,\n  throwRenderInvalidTemplate = _require.throwRenderInvalidTemplate,\n  throwRenderTwice = _require.throwRenderTwice;\nvar logErrors = require(\"./error-logger.js\");\nvar collectContentTypes = require(\"./collect-content-types.js\");\nvar ctXML = \"[Content_Types].xml\";\nvar relsFile = \"_rels/.rels\";\nvar commonModule = require(\"./modules/common.js\");\nvar Lexer = require(\"./lexer.js\");\nvar defaults = DocUtils.defaults,\n  str2xml = DocUtils.str2xml,\n  xml2str = DocUtils.xml2str,\n  moduleWrapper = DocUtils.moduleWrapper,\n  concatArrays = DocUtils.concatArrays,\n  uniq = DocUtils.uniq,\n  stableSort = DocUtils.stableSort;\nvar _require2 = require(\"./errors.js\"),\n  XTInternalError = _require2.XTInternalError,\n  throwFileTypeNotIdentified = _require2.throwFileTypeNotIdentified,\n  throwFileTypeNotHandled = _require2.throwFileTypeNotHandled,\n  throwApiVersionError = _require2.throwApiVersionError;\nvar currentModuleApiVersion = [3, 36, 0];\nfunction dropUnsupportedFileTypesModules(dx) {\n  dx.modules = dx.modules.filter(function (module) {\n    if (module.supportedFileTypes) {\n      if (!Array.isArray(module.supportedFileTypes)) {\n        throw new Error(\"The supportedFileTypes field of the module must be an array\");\n      }\n      var isSupportedModule = module.supportedFileTypes.indexOf(dx.fileType) !== -1;\n      if (!isSupportedModule) {\n        module.on(\"detached\");\n      }\n      return isSupportedModule;\n    }\n    return true;\n  });\n}\nvar Docxtemplater = /*#__PURE__*/function () {\n  function Docxtemplater(zip) {\n    var _this = this;\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$modules = _ref.modules,\n      modules = _ref$modules === void 0 ? [] : _ref$modules,\n      options = _objectWithoutProperties(_ref, _excluded);\n    _classCallCheck(this, Docxtemplater);\n    if (!Array.isArray(modules)) {\n      throw new Error(\"The modules argument of docxtemplater's constructor must be an array\");\n    }\n    this.targets = [];\n    this.rendered = false;\n    this.scopeManagers = {};\n    this.compiled = {};\n    this.modules = [commonModule()];\n    this.setOptions(options);\n    modules.forEach(function (module) {\n      _this.attachModule(module);\n    });\n    if (arguments.length > 0) {\n      if (!zip || !zip.files || typeof zip.file !== \"function\") {\n        throw new Error(\"The first argument of docxtemplater's constructor must be a valid zip file (jszip v2 or pizzip v3)\");\n      }\n      this.loadZip(zip);\n      // remove the unsupported modules\n      dropUnsupportedFileTypesModules(this);\n      this.compile();\n      this.v4Constructor = true;\n    }\n  }\n  _createClass(Docxtemplater, [{\n    key: \"verifyApiVersion\",\n    value: function verifyApiVersion(neededVersion) {\n      neededVersion = neededVersion.split(\".\").map(function (i) {\n        return parseInt(i, 10);\n      });\n      if (neededVersion.length !== 3) {\n        throwApiVersionError(\"neededVersion is not a valid version\", {\n          neededVersion: neededVersion,\n          explanation: \"the neededVersion must be an array of length 3\"\n        });\n      }\n      if (neededVersion[0] !== currentModuleApiVersion[0]) {\n        throwApiVersionError(\"The major api version do not match, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      if (neededVersion[1] > currentModuleApiVersion[1]) {\n        throwApiVersionError(\"The minor api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      if (neededVersion[1] === currentModuleApiVersion[1] && neededVersion[2] > currentModuleApiVersion[2]) {\n        throwApiVersionError(\"The patch api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      return true;\n    }\n  }, {\n    key: \"setModules\",\n    value: function setModules(obj) {\n      this.modules.forEach(function (module) {\n        module.set(obj);\n      });\n    }\n  }, {\n    key: \"sendEvent\",\n    value: function sendEvent(eventName) {\n      this.modules.forEach(function (module) {\n        module.on(eventName);\n      });\n    }\n  }, {\n    key: \"attachModule\",\n    value: function attachModule(module) {\n      if (this.v4Constructor) {\n        throw new XTInternalError(\"attachModule() should not be called manually when using the v4 constructor\");\n      }\n      var moduleType = _typeof(module);\n      if (moduleType === \"function\") {\n        throw new XTInternalError(\"Cannot attach a class/function as a module. Most probably you forgot to instantiate the module by using `new` on the module.\");\n      }\n      if (!module || moduleType !== \"object\") {\n        throw new XTInternalError(\"Cannot attachModule with a falsy value\");\n      }\n      if (module.requiredAPIVersion) {\n        this.verifyApiVersion(module.requiredAPIVersion);\n      }\n      if (module.attached === true) {\n        if (typeof module.clone === \"function\") {\n          module = module.clone();\n        } else {\n          throw new Error(\"Cannot attach a module that was already attached : \\\"\".concat(module.name, \"\\\". The most likely cause is that you are instantiating the module at the root level, and using it for multiple instances of Docxtemplater\"));\n        }\n      }\n      module.attached = true;\n      var wrappedModule = moduleWrapper(module);\n      this.modules.push(wrappedModule);\n      wrappedModule.on(\"attached\");\n      if (this.fileType) {\n        dropUnsupportedFileTypesModules(this);\n      }\n      return this;\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var _this2 = this;\n      if (this.v4Constructor) {\n        throw new Error(\"setOptions() should not be called manually when using the v4 constructor\");\n      }\n      if (!options) {\n        throw new Error(\"setOptions should be called with an object as first parameter\");\n      }\n      this.options = {};\n      Object.keys(defaults).forEach(function (key) {\n        var defaultValue = defaults[key];\n        _this2.options[key] = options[key] != null ? options[key] : _this2[key] || defaultValue;\n        _this2[key] = _this2.options[key];\n      });\n      this.delimiters.start = DocUtils.utf8ToWord(this.delimiters.start);\n      this.delimiters.end = DocUtils.utf8ToWord(this.delimiters.end);\n      return this;\n    }\n  }, {\n    key: \"loadZip\",\n    value: function loadZip(zip) {\n      if (this.v4Constructor) {\n        throw new Error(\"loadZip() should not be called manually when using the v4 constructor\");\n      }\n      if (zip.loadAsync) {\n        throw new XTInternalError(\"Docxtemplater doesn't handle JSZip version >=3, please use pizzip\");\n      }\n      this.zip = zip;\n      this.updateFileTypeConfig();\n      this.modules = concatArrays([this.fileTypeConfig.baseModules.map(function (moduleFunction) {\n        return moduleFunction();\n      }), this.modules]);\n      dropUnsupportedFileTypesModules(this);\n      return this;\n    }\n  }, {\n    key: \"precompileFile\",\n    value: function precompileFile(fileName) {\n      var currentFile = this.createTemplateClass(fileName);\n      currentFile.preparse();\n      this.compiled[fileName] = currentFile;\n    }\n  }, {\n    key: \"compileFile\",\n    value: function compileFile(fileName) {\n      this.compiled[fileName].parse();\n    }\n  }, {\n    key: \"getScopeManager\",\n    value: function getScopeManager(to, currentFile, tags) {\n      if (!this.scopeManagers[to]) {\n        this.scopeManagers[to] = createScope({\n          tags: tags,\n          parser: this.parser,\n          cachedParsers: currentFile.cachedParsers\n        });\n      }\n      return this.scopeManagers[to];\n    }\n  }, {\n    key: \"resolveData\",\n    value: function resolveData(data) {\n      var _this3 = this;\n      var errors = [];\n      if (!Object.keys(this.compiled).length) {\n        throwResolveBeforeCompile();\n      }\n      return Promise.resolve(data).then(function (data) {\n        _this3.setData(data);\n        _this3.setModules({\n          data: _this3.data,\n          Lexer: Lexer\n        });\n        _this3.mapper = _this3.modules.reduce(function (value, module) {\n          return module.getRenderedMap(value);\n        }, {});\n        return Promise.all(Object.keys(_this3.mapper).map(function (to) {\n          var _this3$mapper$to = _this3.mapper[to],\n            from = _this3$mapper$to.from,\n            data = _this3$mapper$to.data;\n          return Promise.resolve(data).then(function (data) {\n            var currentFile = _this3.compiled[from];\n            currentFile.filePath = to;\n            currentFile.scopeManager = _this3.getScopeManager(to, currentFile, data);\n            return currentFile.resolveTags(data).then(function (result) {\n              currentFile.scopeManager.finishedResolving = true;\n              return result;\n            }, function (errs) {\n              Array.prototype.push.apply(errors, errs);\n            });\n          });\n        })).then(function (resolved) {\n          if (errors.length !== 0) {\n            if (_this3.options.errorLogging) {\n              logErrors(errors, _this3.options.errorLogging);\n            }\n            throwMultiError(errors);\n          }\n          return concatArrays(resolved);\n        });\n      });\n    }\n  }, {\n    key: \"reorderModules\",\n    value: function reorderModules() {\n      this.modules = stableSort(this.modules, function (m1, m2) {\n        return (m2.priority || 0) - (m1.priority || 0);\n      });\n    }\n  }, {\n    key: \"compile\",\n    value: function compile() {\n      var _this4 = this;\n      this.updateFileTypeConfig();\n      this.reorderModules();\n      if (Object.keys(this.compiled).length) {\n        return this;\n      }\n      this.options = this.modules.reduce(function (options, module) {\n        return module.optionsTransformer(options, _this4);\n      }, this.options);\n      this.options.xmlFileNames = uniq(this.options.xmlFileNames);\n      this.xmlDocuments = this.options.xmlFileNames.reduce(function (xmlDocuments, fileName) {\n        var content = _this4.zip.files[fileName].asText();\n        xmlDocuments[fileName] = str2xml(content);\n        return xmlDocuments;\n      }, {});\n      this.setModules({\n        zip: this.zip,\n        xmlDocuments: this.xmlDocuments\n      });\n      this.getTemplatedFiles();\n      // Loop inside all templatedFiles (ie xml files with content).\n      // Sometimes they don't exist (footer.xml for example)\n      this.templatedFiles.forEach(function (fileName) {\n        if (_this4.zip.files[fileName] != null) {\n          _this4.precompileFile(fileName);\n        }\n      });\n      this.templatedFiles.forEach(function (fileName) {\n        if (_this4.zip.files[fileName] != null) {\n          _this4.compileFile(fileName);\n        }\n      });\n      this.setModules({\n        compiled: this.compiled\n      });\n      verifyErrors(this);\n      return this;\n    }\n  }, {\n    key: \"getRelsTypes\",\n    value: function getRelsTypes() {\n      var rootRels = this.zip.files[relsFile];\n      var rootRelsXml = rootRels ? str2xml(rootRels.asText()) : null;\n      var rootRelationships = rootRelsXml ? rootRelsXml.getElementsByTagName(\"Relationship\") : [];\n      var relsTypes = {};\n      for (var i = 0, len = rootRelationships.length; i < len; i++) {\n        var r = rootRelationships[i];\n        relsTypes[r.getAttribute(\"Target\")] = r.getAttribute(\"Type\");\n      }\n      return relsTypes;\n    }\n  }, {\n    key: \"getContentTypes\",\n    value: function getContentTypes() {\n      var contentTypes = this.zip.files[ctXML];\n      var contentTypeXml = contentTypes ? str2xml(contentTypes.asText()) : null;\n      var overrides = contentTypeXml ? contentTypeXml.getElementsByTagName(\"Override\") : null;\n      var defaults = contentTypeXml ? contentTypeXml.getElementsByTagName(\"Default\") : null;\n      return {\n        overrides: overrides,\n        defaults: defaults,\n        contentTypes: contentTypes,\n        contentTypeXml: contentTypeXml\n      };\n    }\n  }, {\n    key: \"updateFileTypeConfig\",\n    value: function updateFileTypeConfig() {\n      var _this5 = this;\n      var fileType;\n      if (this.zip.files.mimetype) {\n        fileType = \"odt\";\n      }\n      this.relsTypes = this.getRelsTypes();\n      var _this$getContentTypes = this.getContentTypes(),\n        overrides = _this$getContentTypes.overrides,\n        defaults = _this$getContentTypes.defaults,\n        contentTypes = _this$getContentTypes.contentTypes,\n        contentTypeXml = _this$getContentTypes.contentTypeXml;\n      if (contentTypeXml) {\n        this.filesContentTypes = collectContentTypes(overrides, defaults, this.zip);\n        this.invertedContentTypes = DocUtils.invertMap(this.filesContentTypes);\n        this.setModules({\n          contentTypes: this.contentTypes,\n          invertedContentTypes: this.invertedContentTypes\n        });\n      }\n      this.modules.forEach(function (module) {\n        fileType = module.getFileType({\n          zip: _this5.zip,\n          contentTypes: contentTypes,\n          contentTypeXml: contentTypeXml,\n          overrides: overrides,\n          defaults: defaults,\n          doc: _this5\n        }) || fileType;\n      });\n      if (fileType === \"odt\") {\n        throwFileTypeNotHandled(fileType);\n      }\n      if (!fileType) {\n        throwFileTypeNotIdentified();\n      }\n      this.fileType = fileType;\n      dropUnsupportedFileTypesModules(this);\n      this.fileTypeConfig = this.options.fileTypeConfig || this.fileTypeConfig || Docxtemplater.FileTypeConfig[this.fileType]();\n      return this;\n    }\n  }, {\n    key: \"renderAsync\",\n    value: function renderAsync(data) {\n      var _this6 = this;\n      return this.resolveData(data).then(function () {\n        return _this6.render();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render(data) {\n      var _this7 = this;\n      if (this.rendered) {\n        throwRenderTwice();\n      }\n      this.rendered = true;\n      this.compile();\n      if (this.errors.length > 0) {\n        throwRenderInvalidTemplate();\n      }\n      if (data) {\n        this.setData(data);\n      }\n      this.setModules({\n        data: this.data,\n        Lexer: Lexer\n      });\n      this.mapper = this.mapper || this.modules.reduce(function (value, module) {\n        return module.getRenderedMap(value);\n      }, {});\n      Object.keys(this.mapper).forEach(function (to) {\n        var _this7$mapper$to = _this7.mapper[to],\n          from = _this7$mapper$to.from,\n          data = _this7$mapper$to.data;\n        var currentFile = _this7.compiled[from];\n        currentFile.scopeManager = _this7.getScopeManager(to, currentFile, data);\n        currentFile.render(to);\n        _this7.zip.file(to, currentFile.content, {\n          createFolders: true\n        });\n      });\n      verifyErrors(this);\n      this.sendEvent(\"syncing-zip\");\n      this.syncZip();\n      return this;\n    }\n  }, {\n    key: \"syncZip\",\n    value: function syncZip() {\n      var _this8 = this;\n      Object.keys(this.xmlDocuments).forEach(function (fileName) {\n        _this8.zip.remove(fileName);\n        var content = xml2str(_this8.xmlDocuments[fileName]);\n        return _this8.zip.file(fileName, content, {\n          createFolders: true\n        });\n      });\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(data) {\n      this.data = data;\n      return this;\n    }\n  }, {\n    key: \"getZip\",\n    value: function getZip() {\n      return this.zip;\n    }\n  }, {\n    key: \"createTemplateClass\",\n    value: function createTemplateClass(path) {\n      var content = this.zip.files[path].asText();\n      return this.createTemplateClassFromContent(content, path);\n    }\n  }, {\n    key: \"createTemplateClassFromContent\",\n    value: function createTemplateClassFromContent(content, filePath) {\n      var _this9 = this;\n      var xmltOptions = {\n        filePath: filePath,\n        contentType: this.filesContentTypes[filePath],\n        relsType: this.relsTypes[filePath]\n      };\n      Object.keys(defaults).concat([\"filesContentTypes\", \"fileTypeConfig\", \"fileType\", \"modules\"]).forEach(function (key) {\n        xmltOptions[key] = _this9[key];\n      });\n      return new Docxtemplater.XmlTemplater(content, xmltOptions);\n    }\n  }, {\n    key: \"getFullText\",\n    value: function getFullText(path) {\n      return this.createTemplateClass(path || this.fileTypeConfig.textPath(this)).getFullText();\n    }\n  }, {\n    key: \"getTemplatedFiles\",\n    value: function getTemplatedFiles() {\n      var _this10 = this;\n      this.templatedFiles = this.fileTypeConfig.getTemplatedFiles(this.zip);\n      this.targets.forEach(function (target) {\n        _this10.templatedFiles.push(target);\n      });\n      this.templatedFiles = uniq(this.templatedFiles);\n      return this.templatedFiles;\n    }\n  }]);\n  return Docxtemplater;\n}();\nfunction verifyErrors(doc) {\n  var compiled = doc.compiled;\n  doc.errors = concatArrays(Object.keys(compiled).map(function (name) {\n    return compiled[name].allErrors;\n  }));\n  if (doc.errors.length !== 0) {\n    if (doc.options.errorLogging) {\n      logErrors(doc.errors, doc.options.errorLogging);\n    }\n    throwMultiError(doc.errors);\n  }\n}\nDocxtemplater.DocUtils = DocUtils;\nDocxtemplater.Errors = require(\"./errors.js\");\nDocxtemplater.XmlTemplater = require(\"./xml-templater.js\");\nDocxtemplater.FileTypeConfig = require(\"./file-type-config.js\");\nDocxtemplater.XmlMatcher = require(\"./xml-matcher.js\");\nmodule.exports = Docxtemplater;","map":{"version":3,"names":["require","_excluded","_typeof","obj","Symbol","iterator","constructor","prototype","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","key","i","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","propertyIsEnumerable","call","sourceKeys","keys","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_toPropertyKey","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","Number","DocUtils","traits","moduleWrapper","createScope","_require","throwMultiError","throwResolveBeforeCompile","throwRenderInvalidTemplate","throwRenderTwice","logErrors","collectContentTypes","ctXML","relsFile","commonModule","Lexer","defaults","str2xml","xml2str","concatArrays","uniq","stableSort","_require2","XTInternalError","throwFileTypeNotIdentified","throwFileTypeNotHandled","throwApiVersionError","currentModuleApiVersion","dropUnsupportedFileTypesModules","dx","modules","filter","module","supportedFileTypes","Array","isArray","Error","isSupportedModule","fileType","on","Docxtemplater","zip","_this","_ref","arguments","_ref$modules","options","targets","rendered","scopeManagers","compiled","setOptions","forEach","attachModule","files","file","loadZip","compile","v4Constructor","value","verifyApiVersion","neededVersion","split","map","parseInt","explanation","concat","join","setModules","set","sendEvent","eventName","moduleType","requiredAPIVersion","attached","clone","name","wrappedModule","push","_this2","defaultValue","delimiters","start","utf8ToWord","end","loadAsync","updateFileTypeConfig","fileTypeConfig","baseModules","moduleFunction","precompileFile","fileName","currentFile","createTemplateClass","preparse","compileFile","parse","getScopeManager","to","tags","parser","cachedParsers","resolveData","data","_this3","errors","Promise","resolve","then","setData","mapper","reduce","getRenderedMap","all","_this3$mapper$to","from","filePath","scopeManager","resolveTags","result","finishedResolving","errs","apply","resolved","errorLogging","reorderModules","m1","m2","priority","_this4","optionsTransformer","xmlFileNames","xmlDocuments","content","asText","getTemplatedFiles","templatedFiles","verifyErrors","getRelsTypes","rootRels","rootRelsXml","rootRelationships","getElementsByTagName","relsTypes","len","r","getAttribute","getContentTypes","contentTypes","contentTypeXml","overrides","_this5","mimetype","_this$getContentTypes","filesContentTypes","invertedContentTypes","invertMap","getFileType","doc","FileTypeConfig","renderAsync","_this6","render","_this7","_this7$mapper$to","createFolders","syncZip","_this8","remove","getZip","path","createTemplateClassFromContent","_this9","xmltOptions","contentType","relsType","XmlTemplater","getFullText","textPath","_this10","allErrors","Errors","XmlMatcher","exports"],"sources":["/Users/hardpro/Desktop/Vue JS/aics-attend/client/node_modules/docxtemplater/js/docxtemplater.js"],"sourcesContent":["\"use strict\";\n\nvar _excluded = [\"modules\"];\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar DocUtils = require(\"./doc-utils.js\");\nDocUtils.traits = require(\"./traits.js\");\nDocUtils.moduleWrapper = require(\"./module-wrapper.js\");\nvar createScope = require(\"./scope-manager.js\");\nvar _require = require(\"./errors.js\"),\n  throwMultiError = _require.throwMultiError,\n  throwResolveBeforeCompile = _require.throwResolveBeforeCompile,\n  throwRenderInvalidTemplate = _require.throwRenderInvalidTemplate,\n  throwRenderTwice = _require.throwRenderTwice;\nvar logErrors = require(\"./error-logger.js\");\nvar collectContentTypes = require(\"./collect-content-types.js\");\nvar ctXML = \"[Content_Types].xml\";\nvar relsFile = \"_rels/.rels\";\nvar commonModule = require(\"./modules/common.js\");\nvar Lexer = require(\"./lexer.js\");\nvar defaults = DocUtils.defaults,\n  str2xml = DocUtils.str2xml,\n  xml2str = DocUtils.xml2str,\n  moduleWrapper = DocUtils.moduleWrapper,\n  concatArrays = DocUtils.concatArrays,\n  uniq = DocUtils.uniq,\n  stableSort = DocUtils.stableSort;\nvar _require2 = require(\"./errors.js\"),\n  XTInternalError = _require2.XTInternalError,\n  throwFileTypeNotIdentified = _require2.throwFileTypeNotIdentified,\n  throwFileTypeNotHandled = _require2.throwFileTypeNotHandled,\n  throwApiVersionError = _require2.throwApiVersionError;\nvar currentModuleApiVersion = [3, 36, 0];\nfunction dropUnsupportedFileTypesModules(dx) {\n  dx.modules = dx.modules.filter(function (module) {\n    if (module.supportedFileTypes) {\n      if (!Array.isArray(module.supportedFileTypes)) {\n        throw new Error(\"The supportedFileTypes field of the module must be an array\");\n      }\n      var isSupportedModule = module.supportedFileTypes.indexOf(dx.fileType) !== -1;\n      if (!isSupportedModule) {\n        module.on(\"detached\");\n      }\n      return isSupportedModule;\n    }\n    return true;\n  });\n}\nvar Docxtemplater = /*#__PURE__*/function () {\n  function Docxtemplater(zip) {\n    var _this = this;\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$modules = _ref.modules,\n      modules = _ref$modules === void 0 ? [] : _ref$modules,\n      options = _objectWithoutProperties(_ref, _excluded);\n    _classCallCheck(this, Docxtemplater);\n    if (!Array.isArray(modules)) {\n      throw new Error(\"The modules argument of docxtemplater's constructor must be an array\");\n    }\n    this.targets = [];\n    this.rendered = false;\n    this.scopeManagers = {};\n    this.compiled = {};\n    this.modules = [commonModule()];\n    this.setOptions(options);\n    modules.forEach(function (module) {\n      _this.attachModule(module);\n    });\n    if (arguments.length > 0) {\n      if (!zip || !zip.files || typeof zip.file !== \"function\") {\n        throw new Error(\"The first argument of docxtemplater's constructor must be a valid zip file (jszip v2 or pizzip v3)\");\n      }\n      this.loadZip(zip);\n      // remove the unsupported modules\n      dropUnsupportedFileTypesModules(this);\n      this.compile();\n      this.v4Constructor = true;\n    }\n  }\n  _createClass(Docxtemplater, [{\n    key: \"verifyApiVersion\",\n    value: function verifyApiVersion(neededVersion) {\n      neededVersion = neededVersion.split(\".\").map(function (i) {\n        return parseInt(i, 10);\n      });\n      if (neededVersion.length !== 3) {\n        throwApiVersionError(\"neededVersion is not a valid version\", {\n          neededVersion: neededVersion,\n          explanation: \"the neededVersion must be an array of length 3\"\n        });\n      }\n      if (neededVersion[0] !== currentModuleApiVersion[0]) {\n        throwApiVersionError(\"The major api version do not match, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      if (neededVersion[1] > currentModuleApiVersion[1]) {\n        throwApiVersionError(\"The minor api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      if (neededVersion[1] === currentModuleApiVersion[1] && neededVersion[2] > currentModuleApiVersion[2]) {\n        throwApiVersionError(\"The patch api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      return true;\n    }\n  }, {\n    key: \"setModules\",\n    value: function setModules(obj) {\n      this.modules.forEach(function (module) {\n        module.set(obj);\n      });\n    }\n  }, {\n    key: \"sendEvent\",\n    value: function sendEvent(eventName) {\n      this.modules.forEach(function (module) {\n        module.on(eventName);\n      });\n    }\n  }, {\n    key: \"attachModule\",\n    value: function attachModule(module) {\n      if (this.v4Constructor) {\n        throw new XTInternalError(\"attachModule() should not be called manually when using the v4 constructor\");\n      }\n      var moduleType = _typeof(module);\n      if (moduleType === \"function\") {\n        throw new XTInternalError(\"Cannot attach a class/function as a module. Most probably you forgot to instantiate the module by using `new` on the module.\");\n      }\n      if (!module || moduleType !== \"object\") {\n        throw new XTInternalError(\"Cannot attachModule with a falsy value\");\n      }\n      if (module.requiredAPIVersion) {\n        this.verifyApiVersion(module.requiredAPIVersion);\n      }\n      if (module.attached === true) {\n        if (typeof module.clone === \"function\") {\n          module = module.clone();\n        } else {\n          throw new Error(\"Cannot attach a module that was already attached : \\\"\".concat(module.name, \"\\\". The most likely cause is that you are instantiating the module at the root level, and using it for multiple instances of Docxtemplater\"));\n        }\n      }\n      module.attached = true;\n      var wrappedModule = moduleWrapper(module);\n      this.modules.push(wrappedModule);\n      wrappedModule.on(\"attached\");\n      if (this.fileType) {\n        dropUnsupportedFileTypesModules(this);\n      }\n      return this;\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var _this2 = this;\n      if (this.v4Constructor) {\n        throw new Error(\"setOptions() should not be called manually when using the v4 constructor\");\n      }\n      if (!options) {\n        throw new Error(\"setOptions should be called with an object as first parameter\");\n      }\n      this.options = {};\n      Object.keys(defaults).forEach(function (key) {\n        var defaultValue = defaults[key];\n        _this2.options[key] = options[key] != null ? options[key] : _this2[key] || defaultValue;\n        _this2[key] = _this2.options[key];\n      });\n      this.delimiters.start = DocUtils.utf8ToWord(this.delimiters.start);\n      this.delimiters.end = DocUtils.utf8ToWord(this.delimiters.end);\n      return this;\n    }\n  }, {\n    key: \"loadZip\",\n    value: function loadZip(zip) {\n      if (this.v4Constructor) {\n        throw new Error(\"loadZip() should not be called manually when using the v4 constructor\");\n      }\n      if (zip.loadAsync) {\n        throw new XTInternalError(\"Docxtemplater doesn't handle JSZip version >=3, please use pizzip\");\n      }\n      this.zip = zip;\n      this.updateFileTypeConfig();\n      this.modules = concatArrays([this.fileTypeConfig.baseModules.map(function (moduleFunction) {\n        return moduleFunction();\n      }), this.modules]);\n      dropUnsupportedFileTypesModules(this);\n      return this;\n    }\n  }, {\n    key: \"precompileFile\",\n    value: function precompileFile(fileName) {\n      var currentFile = this.createTemplateClass(fileName);\n      currentFile.preparse();\n      this.compiled[fileName] = currentFile;\n    }\n  }, {\n    key: \"compileFile\",\n    value: function compileFile(fileName) {\n      this.compiled[fileName].parse();\n    }\n  }, {\n    key: \"getScopeManager\",\n    value: function getScopeManager(to, currentFile, tags) {\n      if (!this.scopeManagers[to]) {\n        this.scopeManagers[to] = createScope({\n          tags: tags,\n          parser: this.parser,\n          cachedParsers: currentFile.cachedParsers\n        });\n      }\n      return this.scopeManagers[to];\n    }\n  }, {\n    key: \"resolveData\",\n    value: function resolveData(data) {\n      var _this3 = this;\n      var errors = [];\n      if (!Object.keys(this.compiled).length) {\n        throwResolveBeforeCompile();\n      }\n      return Promise.resolve(data).then(function (data) {\n        _this3.setData(data);\n        _this3.setModules({\n          data: _this3.data,\n          Lexer: Lexer\n        });\n        _this3.mapper = _this3.modules.reduce(function (value, module) {\n          return module.getRenderedMap(value);\n        }, {});\n        return Promise.all(Object.keys(_this3.mapper).map(function (to) {\n          var _this3$mapper$to = _this3.mapper[to],\n            from = _this3$mapper$to.from,\n            data = _this3$mapper$to.data;\n          return Promise.resolve(data).then(function (data) {\n            var currentFile = _this3.compiled[from];\n            currentFile.filePath = to;\n            currentFile.scopeManager = _this3.getScopeManager(to, currentFile, data);\n            return currentFile.resolveTags(data).then(function (result) {\n              currentFile.scopeManager.finishedResolving = true;\n              return result;\n            }, function (errs) {\n              Array.prototype.push.apply(errors, errs);\n            });\n          });\n        })).then(function (resolved) {\n          if (errors.length !== 0) {\n            if (_this3.options.errorLogging) {\n              logErrors(errors, _this3.options.errorLogging);\n            }\n            throwMultiError(errors);\n          }\n          return concatArrays(resolved);\n        });\n      });\n    }\n  }, {\n    key: \"reorderModules\",\n    value: function reorderModules() {\n      this.modules = stableSort(this.modules, function (m1, m2) {\n        return (m2.priority || 0) - (m1.priority || 0);\n      });\n    }\n  }, {\n    key: \"compile\",\n    value: function compile() {\n      var _this4 = this;\n      this.updateFileTypeConfig();\n      this.reorderModules();\n      if (Object.keys(this.compiled).length) {\n        return this;\n      }\n      this.options = this.modules.reduce(function (options, module) {\n        return module.optionsTransformer(options, _this4);\n      }, this.options);\n      this.options.xmlFileNames = uniq(this.options.xmlFileNames);\n      this.xmlDocuments = this.options.xmlFileNames.reduce(function (xmlDocuments, fileName) {\n        var content = _this4.zip.files[fileName].asText();\n        xmlDocuments[fileName] = str2xml(content);\n        return xmlDocuments;\n      }, {});\n      this.setModules({\n        zip: this.zip,\n        xmlDocuments: this.xmlDocuments\n      });\n      this.getTemplatedFiles();\n      // Loop inside all templatedFiles (ie xml files with content).\n      // Sometimes they don't exist (footer.xml for example)\n      this.templatedFiles.forEach(function (fileName) {\n        if (_this4.zip.files[fileName] != null) {\n          _this4.precompileFile(fileName);\n        }\n      });\n      this.templatedFiles.forEach(function (fileName) {\n        if (_this4.zip.files[fileName] != null) {\n          _this4.compileFile(fileName);\n        }\n      });\n      this.setModules({\n        compiled: this.compiled\n      });\n      verifyErrors(this);\n      return this;\n    }\n  }, {\n    key: \"getRelsTypes\",\n    value: function getRelsTypes() {\n      var rootRels = this.zip.files[relsFile];\n      var rootRelsXml = rootRels ? str2xml(rootRels.asText()) : null;\n      var rootRelationships = rootRelsXml ? rootRelsXml.getElementsByTagName(\"Relationship\") : [];\n      var relsTypes = {};\n      for (var i = 0, len = rootRelationships.length; i < len; i++) {\n        var r = rootRelationships[i];\n        relsTypes[r.getAttribute(\"Target\")] = r.getAttribute(\"Type\");\n      }\n      return relsTypes;\n    }\n  }, {\n    key: \"getContentTypes\",\n    value: function getContentTypes() {\n      var contentTypes = this.zip.files[ctXML];\n      var contentTypeXml = contentTypes ? str2xml(contentTypes.asText()) : null;\n      var overrides = contentTypeXml ? contentTypeXml.getElementsByTagName(\"Override\") : null;\n      var defaults = contentTypeXml ? contentTypeXml.getElementsByTagName(\"Default\") : null;\n      return {\n        overrides: overrides,\n        defaults: defaults,\n        contentTypes: contentTypes,\n        contentTypeXml: contentTypeXml\n      };\n    }\n  }, {\n    key: \"updateFileTypeConfig\",\n    value: function updateFileTypeConfig() {\n      var _this5 = this;\n      var fileType;\n      if (this.zip.files.mimetype) {\n        fileType = \"odt\";\n      }\n      this.relsTypes = this.getRelsTypes();\n      var _this$getContentTypes = this.getContentTypes(),\n        overrides = _this$getContentTypes.overrides,\n        defaults = _this$getContentTypes.defaults,\n        contentTypes = _this$getContentTypes.contentTypes,\n        contentTypeXml = _this$getContentTypes.contentTypeXml;\n      if (contentTypeXml) {\n        this.filesContentTypes = collectContentTypes(overrides, defaults, this.zip);\n        this.invertedContentTypes = DocUtils.invertMap(this.filesContentTypes);\n        this.setModules({\n          contentTypes: this.contentTypes,\n          invertedContentTypes: this.invertedContentTypes\n        });\n      }\n      this.modules.forEach(function (module) {\n        fileType = module.getFileType({\n          zip: _this5.zip,\n          contentTypes: contentTypes,\n          contentTypeXml: contentTypeXml,\n          overrides: overrides,\n          defaults: defaults,\n          doc: _this5\n        }) || fileType;\n      });\n      if (fileType === \"odt\") {\n        throwFileTypeNotHandled(fileType);\n      }\n      if (!fileType) {\n        throwFileTypeNotIdentified();\n      }\n      this.fileType = fileType;\n      dropUnsupportedFileTypesModules(this);\n      this.fileTypeConfig = this.options.fileTypeConfig || this.fileTypeConfig || Docxtemplater.FileTypeConfig[this.fileType]();\n      return this;\n    }\n  }, {\n    key: \"renderAsync\",\n    value: function renderAsync(data) {\n      var _this6 = this;\n      return this.resolveData(data).then(function () {\n        return _this6.render();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render(data) {\n      var _this7 = this;\n      if (this.rendered) {\n        throwRenderTwice();\n      }\n      this.rendered = true;\n      this.compile();\n      if (this.errors.length > 0) {\n        throwRenderInvalidTemplate();\n      }\n      if (data) {\n        this.setData(data);\n      }\n      this.setModules({\n        data: this.data,\n        Lexer: Lexer\n      });\n      this.mapper = this.mapper || this.modules.reduce(function (value, module) {\n        return module.getRenderedMap(value);\n      }, {});\n      Object.keys(this.mapper).forEach(function (to) {\n        var _this7$mapper$to = _this7.mapper[to],\n          from = _this7$mapper$to.from,\n          data = _this7$mapper$to.data;\n        var currentFile = _this7.compiled[from];\n        currentFile.scopeManager = _this7.getScopeManager(to, currentFile, data);\n        currentFile.render(to);\n        _this7.zip.file(to, currentFile.content, {\n          createFolders: true\n        });\n      });\n      verifyErrors(this);\n      this.sendEvent(\"syncing-zip\");\n      this.syncZip();\n      return this;\n    }\n  }, {\n    key: \"syncZip\",\n    value: function syncZip() {\n      var _this8 = this;\n      Object.keys(this.xmlDocuments).forEach(function (fileName) {\n        _this8.zip.remove(fileName);\n        var content = xml2str(_this8.xmlDocuments[fileName]);\n        return _this8.zip.file(fileName, content, {\n          createFolders: true\n        });\n      });\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(data) {\n      this.data = data;\n      return this;\n    }\n  }, {\n    key: \"getZip\",\n    value: function getZip() {\n      return this.zip;\n    }\n  }, {\n    key: \"createTemplateClass\",\n    value: function createTemplateClass(path) {\n      var content = this.zip.files[path].asText();\n      return this.createTemplateClassFromContent(content, path);\n    }\n  }, {\n    key: \"createTemplateClassFromContent\",\n    value: function createTemplateClassFromContent(content, filePath) {\n      var _this9 = this;\n      var xmltOptions = {\n        filePath: filePath,\n        contentType: this.filesContentTypes[filePath],\n        relsType: this.relsTypes[filePath]\n      };\n      Object.keys(defaults).concat([\"filesContentTypes\", \"fileTypeConfig\", \"fileType\", \"modules\"]).forEach(function (key) {\n        xmltOptions[key] = _this9[key];\n      });\n      return new Docxtemplater.XmlTemplater(content, xmltOptions);\n    }\n  }, {\n    key: \"getFullText\",\n    value: function getFullText(path) {\n      return this.createTemplateClass(path || this.fileTypeConfig.textPath(this)).getFullText();\n    }\n  }, {\n    key: \"getTemplatedFiles\",\n    value: function getTemplatedFiles() {\n      var _this10 = this;\n      this.templatedFiles = this.fileTypeConfig.getTemplatedFiles(this.zip);\n      this.targets.forEach(function (target) {\n        _this10.templatedFiles.push(target);\n      });\n      this.templatedFiles = uniq(this.templatedFiles);\n      return this.templatedFiles;\n    }\n  }]);\n  return Docxtemplater;\n}();\nfunction verifyErrors(doc) {\n  var compiled = doc.compiled;\n  doc.errors = concatArrays(Object.keys(compiled).map(function (name) {\n    return compiled[name].allErrors;\n  }));\n  if (doc.errors.length !== 0) {\n    if (doc.options.errorLogging) {\n      logErrors(doc.errors, doc.options.errorLogging);\n    }\n    throwMultiError(doc.errors);\n  }\n}\nDocxtemplater.DocUtils = DocUtils;\nDocxtemplater.Errors = require(\"./errors.js\");\nDocxtemplater.XmlTemplater = require(\"./xml-templater.js\");\nDocxtemplater.FileTypeConfig = require(\"./file-type-config.js\");\nDocxtemplater.XmlMatcher = require(\"./xml-matcher.js\");\nmodule.exports = Docxtemplater;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}